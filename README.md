# TMA Tracker SDK

SDK –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–æ–≥–æ —Ç—Ä–µ–∫—ñ–Ω–≥—É –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ä–µ–∫–ª–∞–º–Ω–∏—Ö –∫–∞–º–ø–∞–Ω—ñ–π —É Telegram Mini Apps.

## –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –ø–æ UTM-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö
- –ó–±—ñ—Ä –¥–∞–Ω–∏—Ö –ø—Ä–æ –ø–ª–∞—Ç–µ–∂—ñ –≤ Telegram Stars
- API –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ base64 encoded UTM –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
- –ë–µ–∑–ø–µ—á–Ω–∏–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ API –∫–ª—é—á—ñ

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
tma-tracker-sdk/
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ client/     # –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π SDK –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ server/     # API —Å–µ—Ä–≤–µ—Ä –∑ Express + Prisma
```

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –¥–ª—è monorepo
npm install
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–Ω–æ—ó —á–∞—Å—Ç–∏–Ω–∏

```bash
# –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥ env —Ñ–∞–π–ª—É
cp packages/server/.env.example packages/server/.env

# –í—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ .env —Ñ–∞–π–ª –∑ –≤–∞—à–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏

# –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ Prisma –∫–ª—ñ—î–Ω—Ç
npm run prisma:generate

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó –ë–î
npm run prisma:migrate
```

### 3. –ó–±—ñ—Ä–∫–∞

```bash
# –ó—ñ–±—Ä–∞—Ç–∏ –≤—Å—ñ –ø–∞–∫–µ—Ç–∏
npm run build

# –ê–±–æ –æ–∫—Ä–µ–º–æ
npm run build -w packages/client
npm run build -w packages/server
```

## –†–æ–∑—Ä–æ–±–∫–∞

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç—Å—å–∫—É —á–∞—Å—Ç–∏–Ω—É –≤ dev —Ä–µ–∂–∏–º—ñ
npm run dev:client

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä –≤ dev —Ä–µ–∂–∏–º—ñ
npm run dev:server
```

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ —Ç–µ—Å—Ç–∏
npm test

# –¢–µ—Å—Ç–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–∞–∫–µ—Ç—É
npm test -w packages/client
npm test -w packages/server
```

## Linting —Ç–∞ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–¥
npm run lint

# –í–∏–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
npm run lint:fix

# –§–æ—Ä–º–∞—Ç—É–≤–∞—Ç–∏ –∫–æ–¥
npm run format

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
npm run format:check
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

### –î–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤:
- **[QUICK_START.md](./QUICK_START.md)** - –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏
- **[TMA_Tracker_SDK_Technical_Specification.md](./TMA_Tracker_SDK_Technical_Specification.md)** - –¢–µ—Ö–Ω—ñ—á–Ω–∞ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è

### –î–ª—è production:
- **[DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md)** - –ü–æ–∫—Ä–æ–∫–æ–≤–∏–π –ø–ª–∞–Ω –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ SDK –¥–æ production
- **[IMPLEMENTATION_GUIDE.md](./IMPLEMENTATION_GUIDE.md)** - –î–µ—Ç–∞–ª—å–Ω–∏–π –≥–∞–π–¥ –ø–æ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó SDK —É –≤–∞—à TMA –±–æ—Ç

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:
- **[test-tma.html](./test-tma.html)** - –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ SDK

## üéØ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –¥–ª—è –≤–∞—à–æ–≥–æ TMA

–Ø–∫—â–æ —É –≤–∞—Å –≤–∂–µ —î TMA –±–æ—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `https://t.me/playdiceebot/app`):

1. **–î–µ–ø–ª–æ–π —Å–µ—Ä–≤–µ—Ä–Ω–æ—ó —á–∞—Å—Ç–∏–Ω–∏** ‚Üí [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md)
2. **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è SDK —É –≤–∞—à TMA** ‚Üí [IMPLEMENTATION_GUIDE.md](./IMPLEMENTATION_GUIDE.md)

## ‚úÖ –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç—É

- ‚úÖ –°–µ—Ä–≤–µ—Ä –ø—Ä–∞—Ü—é—î —ñ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–∏–π
- ‚úÖ –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π SDK –∑—ñ–±—Ä–∞–Ω–∏–π (UMD, ESM, CJS)
- ‚úÖ API endpoints –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ (SQLite)
- ‚úÖ API –∫–ª—é—á—ñ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ
- ‚úÖ –¢—Ä–µ–∫—ñ–Ω–≥ `app_open` –ø—Ä–∞—Ü—é—î
- ‚úÖ –¢—Ä–µ–∫—ñ–Ω–≥ –ø–ª–∞—Ç–µ–∂—ñ–≤ –ø—Ä–∞—Ü—é—î
- ‚úÖ Analytics API –ø–æ–≤–µ—Ä—Ç–∞—î –∫–æ—Ä–µ–∫—Ç–Ω—ñ –¥–∞–Ω—ñ

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT
